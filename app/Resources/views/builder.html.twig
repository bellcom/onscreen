{% extends '::base.html.twig' %}
{% block content %}
{% for screen in screens %}

    <div class="screen row-fluid screen-{{ loop.index }}{% if loop.first == false %} hide{% endif %}"{% if screen.id is defined %} id="{{ screen.id }}"{% endif %}>
    {% for row in screen.rows %}
        <div class="row-fluid">
        {% for column in row.columns %}
            {% if column.type is not defined %}
                <div class="span{{ 12 / loop.length }}">
                {% for widget in column.widgets %}
                    {% if widget.title is defined %}
                    <h2><i class="icon-cogs"></i> {{ widget.title }}</h2>
                    {% endif %}
                    <div class="widget">{{ widget.content|raw }}</div>
                {% endfor %}
                </div>
            {% elseif column.type == 'carousel' %}
                <div class="carousel slide span{{ 12 / loop.length }}" id="carousel-{{ loop.index }}">
                    <div class="carousel-inner">
                    {% for widget in column.widgets %}
                        <div class="item{% if loop.first %} active{% endif %}">
                            {{ widget.content|raw }}
                            <div class="carousel-caption">{{ widget.title|raw }}</div>
                        </div>
                    {% endfor %}
                    </div>
                    <a class="carousel-control left" href="#carousel-{{ loop.index }}" data-slide="prev">&lsaquo;</a>
                    <a class="carousel-control right" href="#carousel-{{ loop.index }}" data-slide="next">&rsaquo;</a>
                </div>
            {% endif %}
        {% endfor %}
        </div>
    {% endfor %}
    </div>


{% endfor %}
{% endblock %}

{% block javascript %}
<script>
$('.carousel').carousel();

if ($('.screen').length > 1) {

    var screens = $('.screen');
    var screens_count = $('.screen').length;

}
</script>
{% endblock %}
